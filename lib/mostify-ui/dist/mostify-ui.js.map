{"version":3,"file":"mostify-ui.js","sources":["../../../packages/mostify-ui/directives/downRes.ts","../../../packages/mostify-ui/config/config.ts","../../../packages/mostify-ui/utils/constants.ts","../../../packages/mostify-ui/components/MButton/Button.tsx","../../../packages/mostify-ui/components/MButton/hooks/useBtn.tsx","../../../packages/mostify-ui/components/MSpace/MSpace.tsx","../../../packages/mostify-ui/components/MDivider/MDivider.tsx","../../../packages/mostify-ui/components/MLayout/MLayout.tsx","../../../packages/mostify-ui/components/MAnchor/MAnchor.tsx","../../../packages/mostify-ui/components/MConfigProvider/MConfigProvider.tsx","../../../packages/mostify-ui/components/MBreadcrumb/MBreadcrumb.tsx","../../../packages/mostify-ui/components/MBreadcrumbItem/MBreadcrumbItem.tsx","../../../packages/utils/dom.ts","../../../packages/mostify-ui/components/MDropdown/animateOption.ts","../../../packages/mostify-ui/components/MDropdown/getRect.ts","../../../packages/mostify-ui/components/MDropdown/MDropdown.tsx","../../../packages/utils/utils.ts","../../../packages/mostify-ui/components/MButtonGroup/MButtonGroup.tsx","../../../packages/mostify-ui/components/MMenuItem/MMenuItem.tsx","../../../packages/mostify-ui/components/MTransition/Transition.tsx","../../../packages/mostify-ui/components/MDialog/utils/dialogAnimation.ts","../../../packages/mostify-ui/utils/dom.ts","../../../packages/mostify-ui/components/MDialog/Dialog.tsx","../../../packages/mostify-ui/components/MDialog/hooks/index.ts","../../../packages/mostify-ui/components/MDialog/utils/dialog.ts","../../../packages/mostify-ui/components/MMask/Mask.tsx","../../../packages/mostify-ui/components/MInput/Input.tsx","../../../packages/mostify-ui/components/MInput/hooks/index.ts","../../../packages/mostify-ui/components/index.ts"],"sourcesContent":["// 按下节点实现响应背景色\r\nimport { Directive } from 'vue';\r\n\r\n// 实现点击节点实现响应出现背景色彩\r\nexport const downRes: Directive = {\r\n  mounted(el: HTMLElement, binding) {\r\n    if (!binding.value) return\r\n    el.addEventListener('mousedown', (event?: MouseEvent) => {\r\n      const parent = el.querySelector('.m-click__res');\r\n      console.log(parent?.getAttribute('data-disabled'), '1');\r\n\r\n      if (!parent || parent?.getAttribute('data-disabled') == 'on') return;\r\n      let isUp = false\r\n      let isAnimationEnd = false\r\n      const ripple = document.createElement('span');\r\n      const destroyedRipple = () => {\r\n        if (isUp && isAnimationEnd) {\r\n          ripple.remove()\r\n          window.removeEventListener('mouseup', onMouseup)\r\n        }\r\n      }\r\n      const onMouseup = () => {\r\n        isUp = true\r\n        destroyedRipple()\r\n      }\r\n      window.addEventListener('mouseup', onMouseup)\r\n\r\n      const rect = el.getBoundingClientRect();\r\n      let size = Math.max(rect.width, rect.height);\r\n      let x = event.clientX - rect.left - size / 2;\r\n      let y = rect.height / 2 - size / 2;\r\n      if (Math.abs(rect.width - rect.height) < 4) {\r\n        x = rect.width / 2 - size / 2;\r\n        y = rect.height / 2 - size / 2;\r\n        size = Math.max(rect.width, rect.height)\r\n      }\r\n      // 设置水波纹的位置和大小  \r\n      ripple.style.left = `${x}px`;\r\n      ripple.style.top = `${y}px`;\r\n      ripple.style.width = ripple.style.height = `${size}px`;\r\n      ripple.classList.add('m-click__res--ripple');\r\n      // 添加水波纹效果到按钮中  \r\n      parent.appendChild(ripple);\r\n      setTimeout(() => {\r\n        isAnimationEnd = true\r\n        destroyedRipple()\r\n      }, 300);\r\n    })\r\n  },\r\n  unmounted(el: HTMLElement) {\r\n    el.removeEventListener('mousedown', () => { });\r\n  },\r\n}\r\n","// 定义全局静态字段\r\nexport const providerKey = Symbol('muiConfigProvider');","export const handleClickResColorMap = new Map([\r\n  ['light','rgba(255,255,255,0.6)'],\r\n  ['dark','rgba(0,0,0,0.3)']\r\n])","import { defineComponent } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport type { MButtonType } from \"./types\";\r\nimport { downRes } from \"@/mostify-ui/directives/downRes\";\r\nimport \"./styles/style.scss\";\r\nimport { useBtn } from \"./hooks/useBtn\";\r\n\r\nexport default defineComponent({\r\n  name: \"MButton\",\r\n  props: {\r\n    type: { type: String as PropType<MButtonType[\"type\"]>, default: \"\" },\r\n    size: { type: String as PropType<MButtonType[\"size\"]>, default: \"\" },\r\n    shape: { type: String as PropType<MButtonType[\"shape\"]>, default: \"\" },\r\n    plain: Boolean,\r\n    disabled: Boolean,\r\n    loading: Boolean,\r\n    block: Boolean,\r\n    light: Boolean,\r\n    clickResColor: { type: String, default: \"\" },\r\n    borderStyle: { type: String, default: \"solid\" },\r\n    clickRes: { type: Boolean, default: true },\r\n  },\r\n  emits: [\"click\", \"focus\", \"blur\"],\r\n  directives: { downRes },\r\n  setup(props, { slots, emit }) {\r\n    const { btnClass, btnStyle, contentShow } = useBtn(props);\r\n\r\n    function handleClick(e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (props.loading || props.disabled) return;\r\n      emit(\"click\", e);\r\n    }\r\n\r\n    function onFocus(e: MouseEvent) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (props.loading || props.disabled) return;\r\n      emit(\"focus\", e);\r\n    }\r\n\r\n    function onBlur(e: MouseEvent) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (props.loading || props.disabled) return;\r\n      emit(\"focus\", e);\r\n    }\r\n\r\n    return () => {\r\n      return (\r\n        <button\r\n          class={btnClass.value}\r\n          style={btnStyle.value}\r\n          v-down-res={props.clickRes}\r\n          onClick={handleClick}\r\n          onFocus={onFocus}\r\n          onBlur={onBlur}>\r\n          <span class=\"m-button-content\">\r\n            <div\r\n              class=\"m-click__res\"\r\n              data-disabled={props.loading || props.disabled ? \"on\" : \"off\"}\r\n            />\r\n            {props.loading && (\r\n              <span\r\n                class=\"m-button__loading_wrapper\"\r\n                style={{ marginRight: contentShow.value ? \"8px\" : 0 }}>\r\n                <svg viewBox=\"0 0 1024 1024\" class=\"m-button-icon__loading\">\r\n                  <path\r\n                    d=\"M980.752 313.697c-25.789-60.972-62.702-115.725-109.713-162.736-47.012-47.011-101.764-83.924-162.736-109.713C645.161 14.542 578.106 1 509 1c-2.242 0-4.48 0.015-6.715 0.043-16.567 0.211-29.826 13.812-29.615 30.38 0.209 16.438 13.599 29.618 29.99 29.618l0.39-0.002c1.98-0.026 3.963-0.039 5.95-0.039 61.033 0 120.224 11.947 175.93 35.508 53.82 22.764 102.162 55.359 143.683 96.879s74.115 89.862 96.88 143.683C949.054 392.776 961 451.967 961 513c0 16.568 13.432 30 30 30s30-13.432 30-30c0-69.106-13.541-136.162-40.248-199.303z\"\r\n                    fill=\"currentColor\"></path>\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {contentShow.value ? slots.default && slots.default() : null}\r\n          </span>\r\n        </button>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { computed, inject } from \"vue\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\nimport { handleClickResColorMap } from \"@/mostify-ui/utils/constants\";\r\n\r\nexport const useBtn = props => {\r\n  const injectData = inject(providerKey, { size: \"\" });\r\n\r\n  const clickColor = computed(() => {\r\n    if (props.clickColor) return props.clickColor;\r\n    switch (props.type) {\r\n      case \"primary\":\r\n      case \"danger\":\r\n      case \"warning\":\r\n      case \"success\":\r\n      case \"info\":\r\n        return props.light\r\n          ? handleClickResColorMap.get(\"dark\")\r\n          : handleClickResColorMap.get(\"light\");\r\n\r\n      default:\r\n        return handleClickResColorMap.get(\"dark\");\r\n    }\r\n  });\r\n  const btnStyle = computed(() => {\r\n    const style = [];\r\n    style.push(`--border_style:${props.borderStyle || \"solid\"}`);\r\n    style.push(`--m-click-res-color:${clickColor.value}`);\r\n    return style.join(\";\");\r\n  });\r\n\r\n  const btnClass = computed(() => {\r\n    const arr = ['m-button'];\r\n    const size = props.size || injectData.size;\r\n\r\n    props.type && arr.push(\"m-button__type__\" + props.type);\r\n    size && arr.push(\"m-button__size__\" + size);\r\n    props.shape && arr.push(\"m-button__shape__\" + props.shape);\r\n    props.plain && arr.push(\"is__plain\");\r\n    props.block && arr.push(\"is__block\");\r\n    props.light && arr.push(\"is__light\");\r\n    props.loading && arr.push(\"is__loading\");\r\n    props.disabled && arr.push(\"is__disabled\");\r\n    return arr;\r\n  });\r\n\r\n  const contentShow = computed(\r\n    () => !(props.loading && [\"circle\", \"rect\"].includes(props.shape))\r\n  );\r\n\r\n  return {\r\n    btnStyle,\r\n    btnClass,\r\n    contentShow\r\n  };\r\n};\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MSpace\",\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    layout: {\r\n      type: String,\r\n      validator: (val: string) => [\"x\", \"y\"].includes(val),\r\n      default: \"x\",\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    const layoutClass = computed(() =>\r\n      props.layout === \"y\" ? \"m-space-y\" : \"m-space-x\"\r\n    );\r\n    const defaultItems = computed(() => (slots.default ? slots.default() : []));\r\n\r\n    return () => {\r\n      return (\r\n        <div\r\n          class={[\"m-space\", layoutClass.value]}\r\n          style={{\r\n            \"--size\": props.value || \"\",\r\n          }}\r\n        >\r\n          {defaultItems.value?.map((item, index) => {\r\n            return (\r\n              <div class=\"m-space-item\" key={index}>\r\n                {item}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDivider\",\r\n  props: {\r\n    layout: {\r\n      type: String,\r\n      default: \"x\",\r\n      validator: (v: string) => [\"x\", \"y\"].includes(v),\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"12px\",\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const dividerClass = computed(() =>\r\n      props.layout === \"y\" ? \"m-divider-y\" : \"m-divider-x\"\r\n    );\r\n\r\n    return () => (\r\n      <div\r\n        style={{ \"--color\": props.color, \"--size\": props.size }}\r\n        class={[\"m-divider\", dividerClass.value]}\r\n      ></div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport const MLayout = defineComponent({\r\n  name: \"MLayout\",\r\n  props: {\r\n    layout: {\r\n      type: String,\r\n      default: \"y\",\r\n    },\r\n  },\r\n\r\n  setup(props, { slots }) {\r\n    const layoutClass = computed(() =>\r\n      props.layout === \"x\" ? \"m-layout-x\" : \"m-layout-y\"\r\n    );\r\n    return () => (\r\n      <div class={[\"m-layout\", layoutClass.value]}>\r\n        {slots.default && slots.default()}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n\r\nexport const MHeader = defineComponent({\r\n  name: \"MHeader\",\r\n  props: {\r\n    height: {\r\n      type: String,\r\n      default: \"64px\",\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    return () => (\r\n      <header class=\"m-header\" style={{ \"--height\": props.height }}>\r\n        {slots.default && slots.default()}\r\n      </header>\r\n    );\r\n  },\r\n});\r\n\r\nexport const MSide = defineComponent({\r\n  name: \"MSide\",\r\n  props: {\r\n    width: {\r\n      type: String,\r\n      default: \"200px\",\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    return () => (\r\n      <nav class=\"m-side\" style={{ \"--size\": props.width }}>\r\n        {slots.default && slots.default()}\r\n      </nav>\r\n    );\r\n  },\r\n});\r\n\r\nexport const MFooter = defineComponent({\r\n  name: \"MFooter\",\r\n  props: {\r\n    height: {\r\n      type: String,\r\n      default: \"64px\",\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    return () => (\r\n      <nav class=\"m-footer\" style={{ \"--size\": props.height }}>\r\n        {slots.default && slots.default()}\r\n      </nav>\r\n    );\r\n  },\r\n});\r\n\r\nexport const MMain = defineComponent({\r\n  name: \"MMain\",\r\n  // @ts-ignore\r\n  setup(props, { slots }) {\r\n    return () => (\r\n      <main class=\"m-main\">\r\n        {slots.default && slots.default()}\r\n      </main>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent, inject } from \"vue\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\n\r\nexport default defineComponent({\r\n  name: \"MAnchor\",\r\n  props: {\r\n    getTarget: {\r\n      type: Function,\r\n      default: () => window,\r\n    },\r\n  },\r\n  setup(_, { slots }) {\r\n    const injectData = inject(providerKey);\r\n\r\n    console.log(injectData, \"injectData\");\r\n\r\n    return () => <div>{slots.default && slots.default()}</div>;\r\n  },\r\n});\r\n","import { defineComponent, provide } from \"vue\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\nexport default defineComponent({\r\n  name: \"MConfigProvider\",\r\n  props: {\r\n    locale: {\r\n      type: String,\r\n      default: \"zh-CN\",\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"small\",\r\n      validator: (v: string) => [\"small\", \"mini\", \"large\"].includes(v),\r\n    },\r\n  },\r\n\r\n  setup(props, { slots }) {\r\n    provide(providerKey, props);\r\n    return () => <>{slots.default && slots.default()}</>;\r\n  },\r\n});\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MBreadcrumb\",\r\n  props: {\r\n    separator: {\r\n      type: String,\r\n      default: \"/\",\r\n    },\r\n    color: String,\r\n    activeColor: String,\r\n  },\r\n  setup(props, { slots }) {\r\n    const length = computed(() => slots?.default?.()?.length || 0);\r\n\r\n    return () => (\r\n      <div\r\n        class=\"m-breadcrumb\"\r\n        style={{\r\n          \"--color\": props.color,\r\n          \"--activeColor\": props.activeColor,\r\n        }}\r\n      >\r\n        {slots?.default?.()?.map((item, index) => (\r\n          <>\r\n            {item}\r\n            {index >= 0 && index < length.value - 1 && (\r\n              <span>\r\n                {(slots.separator && slots.separator?.()) || props.separator}\r\n              </span>\r\n            )}\r\n          </>\r\n        ))}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"MBreadcrumbItem\",\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    disabled: Boolean,\r\n  },\r\n  emits: [\"click\"],\r\n  setup(props, { emit, slots }) {\r\n    function handleClick(e: MouseEvent): void {\r\n      e.preventDefault();\r\n      if (props?.disabled) return;\r\n      emit(\"click\", e);\r\n    }\r\n\r\n    return () => (\r\n      <div\r\n        class={[`m-breadcrumb__item`, props.disabled ? \"is__disabled\" : \"\"]}\r\n        data-disabled={props.disabled}\r\n        onClick={handleClick}\r\n      >\r\n        {(slots.default && slots.default()) || props.title}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","// 获取节点当前坐标大小\r\nexport const getNodeRect = (node: HTMLElement | Element | null): DOMRect | null => {\r\n  return node ? node.getBoundingClientRect() : null\r\n};\r\n\r\n// 判断两个节点是否是同一个节点或者是子节点\r\nexport const isSameOrChildNode = (parent: HTMLElement, child: HTMLElement): boolean => {\r\n  if (!parent || !child) return false\r\n  if (parent === child) return true;\r\n  if (parent.contains && parent.contains(child)) return true;\r\n\r\n  return false\r\n}\r\n\r\n// 结束节点的动画\r\nexport const endAnimation = (node: HTMLElement) => {\r\n  return new Promise((resolve) => {\r\n    if (!node) return resolve(false)\r\n    node.getAnimations().forEach((animation) => {\r\n      animation.cancel()\r\n    });\r\n    resolve(true)\r\n  })\r\n}\r\n\r\n// 判断节点是否动画结束\r\nexport const getAnimateEnd = (node: HTMLElement) => {\r\n  return new Promise((resolve) => {\r\n    if (!node) return null\r\n    Promise.all(\r\n      node.getAnimations({ subtree: true }).map((animation) => animation.finished),\r\n    ).then(() => {\r\n      resolve(true)\r\n    }).catch(() => {\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\n// 设置动画\r\nexport const animate = (node: HTMLElement, keyframes: Keyframe[] | PropertyIndexedKeyframes | null, options: number | KeyframeAnimationOptions, delay = 0) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!node) return reject('node is null')\r\n    // 移除所有动画\r\n    await endAnimation(node)\r\n    node.animate(keyframes, options)\r\n    const time: number | string | CSSNumericValue = typeof options === 'number' ? options : (options?.duration || null)\r\n    if (time !== null && time !== undefined && Number(time) >= 0) {\r\n      setTimeout(() => {\r\n        resolve(true)\r\n      }, Number(time) - delay)\r\n    } else {\r\n      resolve(true)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n// 设置样式\r\nexport const setDomStyleByObj = (node: HTMLElement, obj: { [key: string]: any }) => {\r\n  if (!node || !obj) return false;\r\n  node.setAttribute('style', Object.keys(obj).map((key) => `${key}:${obj[key]}`).join(';'))\r\n}","import { animate } from \"@/utils/dom\";\r\n\r\nconst showTime = 250;\r\nconst hideTime = 200;\r\n\r\nexport default {\r\n  hideTime,\r\n  showTime,\r\n  bgShow: async (el: HTMLElement | null) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { transform: \"scaleY(0.88)\", offset: 0 },\r\n        { transform: \"scaleY(1)\", offset: 0.33 },\r\n        {},\r\n      ],\r\n      { duration: showTime }\r\n    ).catch(() => { });\r\n  },\r\n  cShow: async (el: HTMLElement | null) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { offset: 0, opacity: 0 },\r\n        { offset: 0.33, opacity: 0 },\r\n        { offset: 1, opacity: 1 },\r\n      ],\r\n      { duration: showTime }\r\n    ).catch(() => { });\r\n  },\r\n  bgHide: async (el) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { opacity: 1, transform: \"scaleY(1)\", offset: 0 },\r\n        { opacity: 0.66, transform: \"scaleY(1)\", offset: 0.33 },\r\n        { opacity: 0, transform: \"scaleY(0.88)\", offset: 1 },\r\n      ],\r\n      { duration: hideTime }\r\n    ).catch(() => { });\r\n  },\r\n  async cHide(el: HTMLElement | null) {\r\n    await animate(\r\n      el,\r\n      [\r\n        { offset: 0, opacity: 1 },\r\n        { offset: 0.33, opacity: 0 },\r\n        { offset: 1, opacity: 0 },\r\n      ],\r\n      { duration: hideTime }\r\n    ).catch(() => { });\r\n  },\r\n};\r\n","function getPlacement(placement, rect, cRect) {\r\n  // 获取浏览器窗口的宽度\r\n  var windowWidth = window.innerWidth;\r\n  // 获取浏览器窗口的高度\r\n  var windowHeight = window.innerHeight;\r\n\r\n  // 是否可以显示在上方\r\n  var canShowOnTop = rect.top > cRect?.height;\r\n  // 是否可以显示在下方\r\n  var canShowOnBottom = windowHeight - (rect?.top + cRect?.height) > 0;\r\n  // 是否可以显示在左边\r\n  var canShowOnLeft = rect.left > cRect.width;\r\n  // 是否可以显示在右边\r\n  var canShowOnRight = windowWidth - (rect.left + cRect.width) > 0;\r\n\r\n  if (canShowOnTop && canShowOnBottom && canShowOnLeft && canShowOnRight) return placement;\r\n  console.log(canShowOnTop,'canShowOnTop');\r\n  \r\n  if (canShowOnBottom) {\r\n    if (canShowOnLeft && canShowOnRight) {\r\n      return ['bottomRight', 'bottomLeft', 'bottom'].includes(placement) ? placement : 'bottomLeft'\r\n    } else if (canShowOnLeft) {\r\n      return 'bottomRight'\r\n    } else {\r\n      return 'bottomLeft'\r\n    }\r\n  } else {\r\n    if (canShowOnLeft && canShowOnRight) {\r\n      return ['topLeft', 'topRight', 'top'].includes(placement) ? placement : 'topLeft'\r\n    } else if (canShowOnLeft) {\r\n      return 'topLeft'\r\n    } else {\r\n      return 'topRight'\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function getRect(placement, rect, cRect) {\r\n  const st_px = document.documentElement.scrollTop\r\n  const key = getPlacement(placement, rect, cRect)\r\n\r\n  switch (key) {\r\n    case 'bottomRight':\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left + rect.width - cRect.width}`\r\n      }\r\n\r\n    case 'bottom':\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left + rect.width / 2 - cRect.width / 2}`\r\n      }\r\n\r\n    default:\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left}`\r\n      }\r\n  }\r\n}","import {\r\n  defineComponent,\r\n  PropType,\r\n  ref,\r\n  Teleport,\r\n  onMounted,\r\n  onUnmounted,\r\n  computed,\r\n  onBeforeMount,\r\n  reactive,\r\n  watch,\r\n} from \"vue\";\r\nimport { PlacementType } from \"@/mostify-ui/types/types\";\r\nimport \"./style.scss\";\r\nimport { getNodeRect, isSameOrChildNode } from \"@/utils/dom\";\r\nimport animateOption from \"./animateOption\";\r\nimport { delay } from \"@/utils/utils\";\r\nimport { getAnimateEnd } from \"@/utils/dom\";\r\nimport { getRect } from \"./getRect\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDropdown\",\r\n  props: {\r\n    placement: {\r\n      type: String as PropType<PlacementType>,\r\n      default: \"bottomLeft\",\r\n    },\r\n    trigger: {\r\n      type: String,\r\n      default: \"click\",\r\n      validator: (value: string) => [\"hover\", \"click\"].includes(value),\r\n    },\r\n    // 隐藏是否销毁\r\n    destroyOnHide: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    disabled: Boolean,\r\n    open: { type: Boolean, default: false },\r\n    toBody: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    const triggerRef = ref<HTMLElement>(null);\r\n    const dropdownContentRef = ref<HTMLElement>(null);\r\n    const bodyRef = ref<HTMLElement>(null);\r\n    const show = ref(false);\r\n    const state = reactive({\r\n      top: \"0\",\r\n      left: \"0\",\r\n      waitChange: false,\r\n      renderToDom: null,\r\n    });\r\n    const hideState = ref(false);\r\n    let timer = null;\r\n    const isShow = computed(() => {\r\n      return props.destroyOnHide ? show.value : true;\r\n    });\r\n    let trigger: HTMLElement | Element | null = null;\r\n\r\n    watch(\r\n      () => props.trigger,\r\n      () => {\r\n        unBindEvent();\r\n        bindEvent();\r\n      }\r\n    );\r\n\r\n    /**\r\n     * 处理点击事件 --- start ---\r\n     */\r\n\r\n    /**\r\n     * 处理点击事件 --- end ---\r\n     */\r\n\r\n    function renderRect() {\r\n      const rect = getNodeRect(trigger);\r\n      const cRect = getNodeRect(bodyRef.value);\r\n      const { top, left } = getRect(props.placement, rect, cRect);\r\n      state.top = `${top}px`;\r\n      state.left = `${left}px`;\r\n      dropdownContentRef.value.style.minWidth = `${rect.width}px`;\r\n    }\r\n\r\n    function scrollListenHandle() {\r\n      if (isShow.value) {\r\n        renderRect();\r\n      }\r\n    }\r\n\r\n    // 注册显示事件\r\n    async function showDropdown() {\r\n      show.value = true;\r\n      hideState.value = true;\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      // 设置不可触发事件\r\n      state.waitChange = true;\r\n      await new Promise((resolve) => requestAnimationFrame(resolve));\r\n      renderRect();\r\n      window.addEventListener(\"scroll\", scrollListenHandle, false);\r\n      // 执行动画\r\n      animateOption.cShow(bodyRef.value);\r\n      animateOption.bgShow(dropdownContentRef.value);\r\n      // 等待执行完成后\r\n      await getAnimateEnd(bodyRef.value).catch(() => {});\r\n      state.waitChange = false;\r\n    }\r\n    function handleClickHandle() {\r\n      if (state.waitChange || props.disabled) return;\r\n      let value = !show.value;\r\n\r\n      if (value) {\r\n        showDropdown();\r\n      } else {\r\n        hideDropdown();\r\n      }\r\n    }\r\n\r\n    function triggerMouseEnter() {\r\n      if (state.waitChange || props.disabled || show.value) return;\r\n      showDropdown();\r\n    }\r\n    function hideDropdown() {\r\n      if (state.waitChange) return;\r\n      if (hideState.value) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      hideState.value = true;\r\n\r\n      timer = setTimeout(async () => {\r\n        if (hideState.value) {\r\n          state.waitChange = true;\r\n          animateOption.cHide(bodyRef.value);\r\n          animateOption.bgHide(dropdownContentRef.value);\r\n          await delay(0);\r\n          await getAnimateEnd(bodyRef.value).catch(() => {});\r\n          window.removeEventListener(\"scroll\", scrollListenHandle, false);\r\n          show.value = false;\r\n          state.waitChange = false;\r\n        }\r\n      }, 60);\r\n    }\r\n    function clickHideListenHandle(e) {\r\n      const el = e.target;\r\n      if (!el) return;\r\n      if (isSameOrChildNode(triggerRef.value, el)) return;\r\n      hideDropdown();\r\n    }\r\n    function onContentMouseEnter() {\r\n      hideState.value = true;\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n        show.value = true;\r\n      } else {\r\n        hideState.value = false;\r\n        show.value = true;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 事件注册和解绑 -- start ---\r\n     */\r\n    function bindEvent() {\r\n      window.addEventListener(\"click\", clickHideListenHandle, true);\r\n      if (props.trigger === \"click\") {\r\n        trigger?.addEventListener(\"click\", handleClickHandle, false);\r\n      } else {\r\n        trigger?.addEventListener(\"mouseenter\", triggerMouseEnter, false);\r\n        trigger?.addEventListener(\"mouseleave\", hideDropdown, false);\r\n        dropdownContentRef.value?.addEventListener(\r\n          \"mouseenter\",\r\n          onContentMouseEnter,\r\n          false\r\n        );\r\n        dropdownContentRef.value?.addEventListener(\r\n          \"mouseleave\",\r\n          hideDropdown,\r\n          false\r\n        );\r\n      }\r\n    }\r\n    // 销毁事件\r\n    function unBindEvent() {\r\n      trigger?.removeEventListener(\"click\", handleClickHandle, false);\r\n      window.removeEventListener(\"click\", clickHideListenHandle, false);\r\n\r\n      trigger?.removeEventListener(\"mouseenter\", triggerMouseEnter, false);\r\n      trigger?.removeEventListener(\"mouseleave\", hideDropdown, false);\r\n\r\n      dropdownContentRef.value?.removeEventListener(\r\n        \"mouseenter\",\r\n        onContentMouseEnter,\r\n        false\r\n      );\r\n      dropdownContentRef.value?.removeEventListener(\r\n        \"mouseleave\",\r\n        hideDropdown,\r\n        false\r\n      );\r\n    }\r\n\r\n    /**\r\n     * 事件注册和解绑 -- end ---\r\n     */\r\n\r\n    onBeforeMount(() => {\r\n      if (!document.querySelector(\"#m-inset__body\")) {\r\n        const insetBody = document.createElement(\"div\");\r\n        insetBody.setAttribute(\"id\", \"m-inset__body\");\r\n        document.querySelector(\"body\")?.appendChild(insetBody);\r\n      }\r\n    });\r\n    onMounted(() => {\r\n      if (triggerRef.value.children?.length === 1) {\r\n        trigger = triggerRef.value.children[0] || null;\r\n      } else {\r\n        trigger = triggerRef.value || null;\r\n      }\r\n      bindEvent();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      unBindEvent();\r\n    });\r\n\r\n    return () => (\r\n      <>\r\n        <div\r\n          class=\"m-dropdown\"\r\n          ref={triggerRef}\r\n          style={{ \"pointer-events\": state.waitChange ? \"none\" : \"all\" }}\r\n        >\r\n          {slots.default && slots.default()}\r\n        </div>\r\n\r\n        <Teleport to={\"#m-inset__body\"}>\r\n          {isShow.value && (\r\n            <div\r\n              class=\"m-dropdown__content m-box__shadow\"\r\n              v-show={show.value}\r\n              ref={dropdownContentRef}\r\n              style={{\r\n                \"--top\": state.top,\r\n                \"--left\": state.left,\r\n                \"pointer-events\": state.waitChange ? \"none\" : \"all\",\r\n              }}\r\n            >\r\n              <div class=\"m-dropdown__body\" ref={bodyRef}>\r\n                {slots.content && slots.content()}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Teleport>\r\n      </>\r\n    );\r\n  },\r\n});\r\n","// 延迟执行\r\nexport const delay = (time: number) => new Promise((resolve) => setTimeout(resolve, time))\r\n\r\n// 等待渲染\r\nexport const delayRender = () => new Promise((resolve) => requestAnimationFrame(resolve))","import { defineComponent, provide, inject } from \"vue\";\r\nimport \"./style.scss\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\n\r\nexport default defineComponent({\r\n  name: \"MButtonGroup\",\r\n  props: {\r\n    layout: {\r\n      type: String,\r\n      default: \"x\",\r\n      validator: (v: string) => [\"x\", \"y\"].includes(v),\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    console.log(props.size, \"button\");\r\n\r\n    const injectData = inject(providerKey, { size: \"\" });\r\n\r\n    provide(providerKey, { size: props.size || injectData.size });\r\n    return () => (\r\n      <div\r\n        class={[\r\n          \"m-button__group\",\r\n          props.layout === \"y\" ? \"m-button__group_y\" : \"m-button__group_x\",\r\n        ]}\r\n      >\r\n        {slots.default && slots.default()}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MMenuItem\",\r\n  props: {\r\n    disabled: Boolean,\r\n    label: String,\r\n  },\r\n  emits:['click'],\r\n  setup(props, { slots,emit }) {\r\n    function handleClick(e:MouseEvent){\r\n      if(props.disabled){\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n        return\r\n      }\r\n      emit('click',e)\r\n    }\r\n    return () => (\r\n      <div\r\n        class={[\"m-menu__item\", props.disabled ? \"is__disabled\" : \"\"]}\r\n        data-disabled={props.disabled}\r\n        aria-disabled={props.disabled}\r\n        onClick={handleClick}\r\n      >\r\n        {(slots.default && slots.default()) || props.label}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent, Transition } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"MTransition\",\r\n  props: {\r\n    onEnter: Function,\r\n    onLeave: Function\r\n  },\r\n  setup(props, ctx) {\r\n    return () => {\r\n      const vNodes = ctx.slots.default && ctx.slots.default();\r\n      return (\r\n        <Transition\r\n          appear={false}\r\n          onEnter={(el: Element, done: () => void) => props.onEnter?.(el, done)}\r\n          onLeave={(el: Element, done: () => void) => props.onLeave?.(el, done)}\r\n          css={false}>\r\n          {vNodes}\r\n        </Transition>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { animate } from \"@/utils/dom\";\r\n\r\nexport const dialogAnimationShow = async ({ mask, content, wrapper }) => {\r\n  animate(mask, [{ opacity: 0 }, { opacity: 1 }], 240);\r\n  animate(\r\n    wrapper,\r\n    [\r\n      { transform: \"scale(0.33)\", offset: 0, opacity: 0.66 },\r\n      { transform: \"scale(0.98)\", offset: 0.66, opacity: 1 },\r\n      { transform: \"scale(1)\", offset: 1, opacity: 1 },\r\n    ],\r\n    {\r\n      duration: 240,\r\n    }\r\n  );\r\n  await animate(\r\n    content,\r\n    [\r\n      { opacity: 0, offset: 0 },\r\n      { opacity: 0.05, offset: 0.5 },\r\n      { opacity: 1, offset: 1 }\r\n    ],\r\n    {\r\n      duration: 240,\r\n    }\r\n  );\r\n}\r\n\r\nexport const dialogAnimationHide = async ({ mask, wrapper, content }) => {\r\n  animate(mask, [{ opacity: 1 }, { opacity: 0 }], {\r\n    duration: 200\r\n  });\r\n  animate(\r\n    content,\r\n    [\r\n      { opacity: 0.25, offset: 0 },\r\n      { opacity: 0.05, offset: 0.33, },\r\n      { opacity: 0, offset: 1,transform: \"scale(0.33)\" }\r\n    ],\r\n    {\r\n      duration: 200,\r\n    }\r\n  );\r\n  await animate(\r\n    wrapper,\r\n    [\r\n      { opacity: 1, offset: 0 },\r\n      { opacity: 0.88, offset: 0.33 },\r\n      { opacity: 0, offset: 1, transform: \"scale(0.33)\" }\r\n    ],\r\n    {\r\n      duration: 200,\r\n    },\r\n    20\r\n  );\r\n}\r\n\r\n// 当前弹窗在最前面\r\nexport const dialogAnimationShowTop = (target: HTMLElement | null) => {\r\n  if (!target) return false\r\n  const allDialogs = document.querySelectorAll(\".m-dialog[data-show='true']\");\r\n\r\n  if (allDialogs.length > 0) {\r\n    const last = allDialogs[allDialogs.length - 1];\r\n    return last === target\r\n  }\r\n\r\n  return false\r\n}\r\n","// 判断是否存在需要隐藏滚动条的元素\r\nexport const updateBodyScroll = (attr = 'm-dialog[data-active=\"true\"]') => {\r\n  const flag = document.querySelectorAll(attr).length > 0\r\n  if (flag) {\r\n    document.body.setAttribute('data-overflow', 'hidden')\r\n    document.documentElement.dataset.overflow = 'hidden'\r\n  } else {\r\n    document.body.setAttribute('data-overflow', 'auto')\r\n    document.documentElement.dataset.overflow = 'auto'\r\n  }\r\n}","import \"./styles/dialog.scss\";\r\nimport { defineComponent, Teleport } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport MTransition from \"@/mostify-ui/components/MTransition\";\r\nimport { MButton } from \"@/mostify-ui/components\";\r\nimport { useDialogRef, useDialogStyle } from \"./hooks\";\r\nimport {\r\n  dialogAnimationHide,\r\n  dialogAnimationShow,\r\n  dialogAnimationShowTop\r\n} from \"./utils/dialogAnimation\";\r\nimport { updateBodyScroll } from \"@/mostify-ui/utils/dom\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDialog\",\r\n  components: { MButton },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    content: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    className: String,\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    cancelBtnText: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    okBtnText: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    okBtnProps: {\r\n      type: Object,\r\n      default: () => ({ type: \"primary\" })\r\n    },\r\n    cancelBtnProps: {\r\n      type: Object,\r\n      default: () => ({ type: \"default\" })\r\n    },\r\n    width: {\r\n      type: [Number, String] as PropType<number | string>,\r\n      default: \"50%\"\r\n    },\r\n    height: {\r\n      type: [Number, String] as PropType<number | string>,\r\n      default: \"auto\"\r\n    },\r\n    showClose: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    backgroundColor: {\r\n      type: String,\r\n      default: \"#fff\"\r\n    },\r\n    maskBackgroundColor: {\r\n      type: String,\r\n      default: \"rgba(0, 0, 0, .35)\"\r\n    },\r\n    fullscreen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    escHide: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    maskHide: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    target: {\r\n      type: [String, HTMLElement],\r\n      default: \"body\"\r\n    },\r\n    top: { type: String, default: \"center\" },\r\n    _onClose: Function\r\n  },\r\n  emits: [\"close\"],\r\n  setup(props, ctx) {\r\n    const { wrapperRef, bodyRef, maskRef, dialogRef } = useDialogRef();\r\n    const { contentStyle, wrapperStyle, bodyStyle } = useDialogStyle(props);\r\n    const onVisibleHide = (type: string) => {\r\n      props._onClose && props._onClose?.(type);\r\n      ctx.emit(\"close\", type);\r\n    };\r\n    const onHandleEscHideEvent = e => {\r\n      if (\r\n        (e.code === \"Escape\" || e.keyCode === 27 || e.key === \"Escape\") &&\r\n        props.escHide &&\r\n        dialogAnimationShowTop(dialogRef.value)\r\n      ) {\r\n        ctx.emit(\"close\", { type: \"cancel\" });\r\n      }\r\n    };\r\n    const onEnter = async (_, done) => {\r\n      await new Promise(resolve => requestAnimationFrame(resolve));\r\n      const transformOrigin = \"center\";\r\n\r\n      wrapperRef.value.style.setProperty(\"transform-origin\", transformOrigin);\r\n      bodyRef.value.style.setProperty(\"transform-origin\", transformOrigin);\r\n      updateBodyScroll('.m-dialog[data-show=\"true\"]');\r\n      await dialogAnimationShow({\r\n        mask: maskRef.value,\r\n        content: bodyRef.value,\r\n        wrapper: wrapperRef.value\r\n      });\r\n      props.escHide && document.addEventListener(\"keyup\", onHandleEscHideEvent);\r\n      done();\r\n    };\r\n    const onLeave = async (_, done) => {\r\n      await dialogAnimationHide({\r\n        mask: maskRef.value,\r\n        content: bodyRef.value,\r\n        wrapper: wrapperRef.value\r\n      });\r\n      updateBodyScroll('.m-dialog[data-show=\"true\"]');\r\n      document.removeEventListener(\"keyup\", onHandleEscHideEvent);\r\n      done();\r\n    };\r\n\r\n    return () => {\r\n      // slots content slots footer slots header\r\n      const defaultSlot = ctx.slots.default?.();\r\n      const footerSlot = ctx.slots.footer?.();\r\n      const headerSlot = ctx.slots.header?.();\r\n      const bodySlot = ctx.slots.body?.();\r\n\r\n      // render dom\r\n      return (\r\n        <Teleport to={props.target}>\r\n          <MTransition onEnter={onEnter} onLeave={onLeave}>\r\n            <div\r\n              class={`m-dialog ${props.className || \"\"}`}\r\n              v-show={props.visible}\r\n              data-show={props.visible}\r\n              ref={dialogRef}\r\n              style={{\r\n                \"--m-dialog-background_color\": props.backgroundColor,\r\n                \"--m-dialog__bask_color\": props.maskBackgroundColor\r\n              }}>\r\n              <section class=\"m-dialog-mask\" ref={maskRef} />\r\n              <div\r\n                class=\"m-dialog-container\"\r\n                onClick={() => props.maskHide && onVisibleHide(\"cancel\")}>\r\n                <div style={wrapperStyle.value}>\r\n                  <div class=\"m-dialog-cover\" style={contentStyle.value}>\r\n                    <div\r\n                      class=\"m-dialog-content\"\r\n                      onClick={e => e.stopPropagation()}>\r\n                      <div\r\n                        class=\"m-dialog-content__background\"\r\n                        ref={wrapperRef}\r\n                      />\r\n\r\n                      <section\r\n                        class=\"m-dialog-content__wrapper\"\r\n                        ref={bodyRef}\r\n                        style={bodyStyle.value}>\r\n                        {props.showClose && (\r\n                          <MButton\r\n                            type=\"text\"\r\n                            shape=\"rect\"\r\n                            size=\"small\"\r\n                            class=\"m-dialog-content__close\"\r\n                            onClick={() => onVisibleHide(\"cancel\")}>\r\n                            <svg\r\n                              fill=\"currentColor\"\r\n                              class=\"icon\"\r\n                              viewBox=\"0 0 1024 1024\"\r\n                              version=\"1.1\"\r\n                              xmlns=\"http://www.w3.org/2000/svg\"\r\n                              p-id=\"5090\"\r\n                              width=\"28\"\r\n                              height=\"28\">\r\n                              <path d=\"M504.224 470.288l207.84-207.84a16 16 0 0 1 22.608 0l11.328 11.328a16 16 0 0 1 0 22.624l-207.84 207.824 207.84 207.84a16 16 0 0 1 0 22.608l-11.328 11.328a16 16 0 0 1-22.624 0l-207.824-207.84-207.84 207.84a16 16 0 0 1-22.608 0l-11.328-11.328a16 16 0 0 1 0-22.624l207.84-207.824-207.84-207.84a16 16 0 0 1 0-22.608l11.328-11.328a16 16 0 0 1 22.624 0l207.824 207.84z\"></path>\r\n                            </svg>\r\n                          </MButton>\r\n                        )}\r\n\r\n                        {headerSlot\r\n                          ? headerSlot\r\n                          : props.title && (\r\n                              <header class=\"m-dialog__header\">\r\n                                <span class=\"m-dialog-title\">\r\n                                  {props.title}\r\n                                </span>\r\n                              </header>\r\n                            )}\r\n\r\n                        {bodySlot ? (\r\n                          bodySlot\r\n                        ) : (\r\n                          <main class=\"m-dialog__body\">\r\n                            {defaultSlot || props.content}\r\n                          </main>\r\n                        )}\r\n\r\n                        {footerSlot\r\n                          ? footerSlot\r\n                          : (props.cancelBtnText || props.okBtnText) && (\r\n                              <footer class=\"m-dialog__footer\">\r\n                                {props.cancelBtnText && (\r\n                                  <MButton\r\n                                    {...props.cancelBtnProps}\r\n                                    onClick={() => onVisibleHide(\"cancel\")}>\r\n                                    {props.cancelBtnText}\r\n                                  </MButton>\r\n                                )}\r\n                                {props.okBtnText && (\r\n                                  <MButton\r\n                                    {...props.okBtnProps}\r\n                                    onClick={() => onVisibleHide(\"ok\")}>\r\n                                    {props.okBtnText}\r\n                                  </MButton>\r\n                                )}\r\n                              </footer>\r\n                            )}\r\n                      </section>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </MTransition>\r\n        </Teleport>\r\n      );\r\n    };\r\n  }\r\n});\r\n","\r\nimport { ref, computed } from 'vue';\r\n\r\nexport const useDialogRef = () => {\r\n  const dialogRef = ref<HTMLElement | null>(null)\r\n  const wrapperRef = ref<HTMLElement | null>(null)\r\n  const maskRef = ref<HTMLElement | null>(null)\r\n  const bodyRef = ref<HTMLElement | null>(null)\r\n  return { dialogRef, wrapperRef, maskRef, bodyRef }\r\n}\r\n\r\nexport const useDialogStyle = (props) => {\r\n  const contentStyle = computed(() => {\r\n    const width = (typeof props.width === 'number' ? `${props.width}px` : props.width) || 'auto'\r\n    const height = (typeof props.height === 'number' ? `${props.height}px` : props.height) || 'auto'\r\n\r\n    if (props.fullscreen) {\r\n      return {\r\n        width: '100%',\r\n        padding: '0px',\r\n        margin: '0px',\r\n        height: '100%',\r\n      }\r\n    }\r\n    return {\r\n      width,\r\n      maxWidth: width,\r\n      height,\r\n      margin: `${props.top && props.top !== 'center' ? '0 auto' : '24px auto'}`,\r\n    }\r\n  })\r\n\r\n  const wrapperStyle = computed(() => {\r\n    if (props.fullscreen) {\r\n      return `width: 100%; height: 100%;`\r\n    } else if (props.top === 'center') {\r\n      return `display: flex; \r\n        align-items: center; \r\n        justify-content: center; \r\n        min-height: 100%;\r\n      `\r\n    }\r\n\r\n    return `position:relative;top: ${props.top};padding-bottom:24px;`\r\n  })\r\n\r\n  const bodyStyle = computed(() => {\r\n    return `width: 100%; height: 100%;  position: relative;insert: 0; overflow-y: auto;`\r\n  })\r\n  return { contentStyle, wrapperStyle, bodyStyle }\r\n} ","// 支持js打开弹窗\r\nimport MDialog from '../Dialog.tsx'\r\nimport { createApp } from 'vue'\r\nimport { dialogAnimationShow, dialogAnimationHide } from './dialogAnimation.ts'\r\n\r\ninterface DialogConfirmTypes {\r\n  title?: string\r\n  top?: string\r\n  width?: string\r\n  okBtnText: string\r\n  cancelBtnText?: string\r\n  okBtnProps?: Object\r\n  cancelBtnProps?: Object\r\n}\r\n\r\n// 支持配置的选项\r\nconst getDefaultOpt = (obj: DialogConfirmTypes) => {\r\n  const title = obj?.title || ''\r\n  const width = obj.width || 480\r\n  const top = obj?.top || 'center'\r\n  const data = {\r\n    onConfirm: () => { },\r\n    onCancel: () => { },\r\n    okBtnText: obj?.okBtnText || '确定',\r\n    cancelBtnText: obj?.cancelBtnText || '',\r\n    okBtnProps: obj?.okBtnProps,\r\n    cancelBtnProps: obj?.cancelBtnProps,\r\n    content: 'hello',\r\n    className: 'm-dialog-confirm',\r\n    title,\r\n    width,\r\n    top,\r\n    escHide: false,\r\n    maskHide: false,\r\n    showClose: false,\r\n    visible: true,\r\n  }\r\n  return data\r\n}\r\n\r\nconst createDialog = async (option) => {\r\n  const div = document.createElement('div')\r\n  document.body.appendChild(div)\r\n  let mask, content, wrapper\r\n  const app = createApp(MDialog, {\r\n    ...getDefaultOpt(option),\r\n    target: div,\r\n    _onClose: async (type: 'cancel' | 'ok') => {\r\n      if (type === 'cancel' && option.onCancel) {\r\n        option.onCancel?.();\r\n      } else if (type === 'ok' && option.onConfirm) {\r\n        option.onConfirm?.();\r\n      }\r\n      await dialogAnimationHide({ mask, wrapper, content })\r\n      app.unmount();\r\n      div.remove();\r\n    },\r\n  })\r\n  app.mount(div)\r\n  mask = div.querySelector('.m-dialog-mask') as HTMLElement\r\n  content = div.querySelector('.m-dialog-content__wrapper') as HTMLElement\r\n  wrapper = div.querySelector('.m-dialog-content__background') as HTMLElement\r\n  let transformOrigin = 'center'\r\n\r\n  wrapper.style.setProperty(\"transform-origin\", transformOrigin);\r\n  content.style.setProperty(\"transform-origin\", transformOrigin);\r\n  dialogAnimationShow({ mask, content, wrapper })\r\n}\r\n\r\nconst Dialog = Object.freeze({\r\n  open: (option = {}) => {\r\n    createDialog(Object.assign({}, option))\r\n  },\r\n  confirm: (option = {}) => {\r\n    createDialog(Object.assign({}, option, {\r\n      okBtnType: 'primary',\r\n      cancelBtnText: '取消',\r\n      cancelBtnProps: { type: 'default' }\r\n    }))\r\n  },\r\n})\r\n\r\nexport default Dialog","import { defineComponent, Teleport } from \"vue\";\r\nimport MTransition from \"@/mostify-ui/components/MTransition\";\r\nimport \"./style.scss\";\r\nimport { animate } from \"@/utils/dom\";\r\n\r\nexport default defineComponent({\r\n  name: \"MMask\",\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    background: {\r\n      type: String,\r\n      default: \"rgba(0, 0, 0, .35)\"\r\n    },\r\n    maskHide: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  emits: [\"hide\"],\r\n  setup(props, ctx) {\r\n    const onCloseMask = async () => {\r\n      if (!props.maskHide) return;\r\n      ctx.emit(\"hide\", false);\r\n    };\r\n    const onEnter = async (el, done) => {\r\n      await animate(\r\n        el,\r\n        [\r\n          { opacity: 0, offset: 0 },\r\n          { opacity: 1, offset: 1 }\r\n        ],\r\n        { duration: 300 }\r\n      );\r\n      done();\r\n    };\r\n\r\n    const onLeave = async (el, done) => {\r\n      await animate(\r\n        el,\r\n        [\r\n          { opacity: 1, offset: 0 },\r\n          { opacity: 0, offset: 1 }\r\n        ],\r\n        { duration: 200 },\r\n        60\r\n      );\r\n      done();\r\n    };\r\n\r\n    return () => {\r\n      const vNodes = ctx.slots.default && ctx.slots.default();\r\n      return (\r\n        <Teleport to=\"body\">\r\n          <MTransition onEnter={onEnter} onLeave={onLeave}>\r\n            <div\r\n              class={\"m-mask\"}\r\n              v-show={props.visible}\r\n              onClick={onCloseMask}\r\n              style={{\r\n                \"--m-mask-background\": props.background\r\n              }}>\r\n              <div class=\"m-mask-bg\" />\r\n              <div onClick={e => e.stopPropagation()} class=\"m-mask-body\">\r\n                {vNodes}\r\n              </div>\r\n            </div>\r\n          </MTransition>\r\n        </Teleport>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./styles/base.scss\";\r\nimport { useInputState, useInputClass } from \"./hooks\";\r\n\r\nexport default defineComponent({\r\n  name: \"MInput\",\r\n  props: {\r\n    value: { type: [String, Number], default: \"\" },\r\n    modelValue: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: \"text\"\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"small\"\r\n    },\r\n    prefix: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    suffix: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    prepend: { type: String, default: \"\" },\r\n    append: { type: String, default: \"\" },\r\n    clearable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    width: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    },\r\n    borderWidth: {\r\n      type: [String, Number],\r\n      default: \"1px\"\r\n    },\r\n    autofocus: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: [\"update:modelValue\", \"change\", \"focus\", \"blur\"],\r\n  exposed: [\"focus\", \"blur\"],\r\n  setup(props, ctx) {\r\n    const { inputRef, isFocus, setIsFocus, inputValue, showClear } =\r\n      useInputState(props);\r\n    const { inputClass, inputStyles } = useInputClass(props, isFocus);\r\n\r\n    const onInputChange = e => {\r\n      if (props.disabled || props.readonly) return;\r\n      inputValue.value = e.target.value;\r\n      ctx.emit(\"update:modelValue\", inputValue.value);\r\n      ctx.emit(\"change\", inputValue.value);\r\n    };\r\n    const focus = () => {\r\n      inputRef.value?.focus();\r\n    };\r\n    const blur = () => {\r\n      inputRef.value?.blur();\r\n    };\r\n    ctx.expose({ focus, blur });\r\n\r\n    return () => {\r\n      const prefixSlot = ctx.slots?.prefix?.();\r\n      const suffixSlot = ctx.slots?.suffix?.();\r\n      const prependSlot = ctx.slots?.prepend?.();\r\n      const appendSlot = ctx.slots?.append?.();\r\n\r\n      return (\r\n        <div\r\n          class={`${inputClass.value} ${\r\n            prependSlot || props.prepend ? \"m-input__hasPrepend\" : ''\r\n          } ${appendSlot || props.append ? \"m-input__hasAppend\" : ''}`}\r\n          style={inputStyles.value}>\r\n          {prependSlot || props.prepend ? (\r\n            <div class=\"m-input__prepend\">{prependSlot || props.prepend}</div>\r\n          ) : null}\r\n          <div class=\"m-input__main\">\r\n            {prefixSlot || props.prefix ? (\r\n              <div class=\"m-input__prefix\">{prefixSlot || props.prefix}</div>\r\n            ) : null}\r\n            <input\r\n              class=\"m-input__inner\"\r\n              ref={inputRef}\r\n              type={props.type}\r\n              disabled={props.disabled}\r\n              placeholder={props.placeholder}\r\n              readonly={props.readonly}\r\n              value={inputValue.value}\r\n              autofocus={props.autofocus}\r\n              onInput={onInputChange}\r\n              onBlur={e => {\r\n                setIsFocus(false);\r\n                ctx.emit(\"blur\", e);\r\n              }}\r\n              onFocus={e => {\r\n                setIsFocus(true);\r\n                ctx.emit(\"focus\", e);\r\n              }}\r\n            />\r\n            {showClear.value && (\r\n              <span\r\n                class=\"m-input__clear\"\r\n                onClick={() => {\r\n                  inputValue.value = \"\";\r\n                  ctx.emit(\"update:modelValue\", inputValue.value);\r\n                  ctx.emit(\"change\", inputValue.value);\r\n                }}>\r\n                <svg\r\n                  class=\"icon\"\r\n                  fill=\"currentColor\"\r\n                  viewBox=\"0 0 1024 1024\"\r\n                  version=\"1.1\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M554.586353 512l170.556235-170.556235c11.444706-11.414588 11.595294-30.659765-0.180706-42.405647a29.906824 29.906824 0 0 0-42.405647-0.180706L512 469.413647l-170.556235-170.556235a30.208 30.208 0 0 0-42.405647 0.180706 29.906824 29.906824 0 0 0-0.180706 42.405647L469.413647 512l-170.556235 170.556235c-11.444706 11.414588-11.595294 30.659765 0.180706 42.405647a29.906824 29.906824 0 0 0 42.405647 0.180706L512 554.586353l170.556235 170.556235c11.414588 11.444706 30.659765 11.595294 42.405647-0.180706a29.906824 29.906824 0 0 0 0.180706-42.405647L554.586353 512zM512 993.882353C245.850353 993.882353 30.117647 778.149647 30.117647 512S245.850353 30.117647 512 30.117647s481.882353 215.732706 481.882353 481.882353-215.732706 481.882353-481.882353 481.882353z\"></path>\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {suffixSlot ||\r\n              (props.suffix && (\r\n                <div class=\"m-input__suffix\">{suffixSlot || props.suffix}</div>\r\n              ))}\r\n          </div>\r\n\r\n          {appendSlot || props.append ? (\r\n            <div class=\"m-input__append\">{appendSlot || props.append}</div>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { ref, computed, watch } from 'vue';\r\n\r\nexport const useInputState = (props) => {\r\n  const inputRef = ref<HTMLInputElement | null>(null);\r\n  const isFocus = ref(false);\r\n  const inputValue = ref(props.value || props.modelValue || '')\r\n\r\n\r\n  const showClear = computed(() => {\r\n    return props.clearable && !isFocus.value && inputValue.value !== ''\r\n  })\r\n\r\n  const setIsFocus = (val: boolean) => {\r\n    isFocus.value = val;\r\n  };\r\n\r\n\r\n  watch(() => [props.modelValue, props.value], (n, o) => {\r\n    inputValue.value = n[0] === o[0] ? (n[1] || '') : (n[0] || '')\r\n  })\r\n\r\n  return { inputRef, inputValue, isFocus, setIsFocus, showClear };\r\n}\r\n\r\nexport const useInputClass = (props, focusState) => {\r\n  const inputClass = computed(() => {\r\n    const classNameArr = ['m-input'];\r\n\r\n    if (props.size) {\r\n      classNameArr.push(`m-input__size_${props.size}`)\r\n    }\r\n\r\n    if (props.disabled) {\r\n      classNameArr.push('m-input__disabled');\r\n      return classNameArr\r\n    }\r\n\r\n    if (props.readonly) {\r\n      classNameArr.push('m-input__readonly');\r\n      return classNameArr\r\n    }\r\n\r\n    if (focusState.value) {\r\n      classNameArr.push('m-input__focus');\r\n    }\r\n    return classNameArr?.join(\" \")\r\n  });\r\n\r\n  const inputStyles = computed(() => {\r\n\r\n    return {\r\n      width: props.width ? (typeof props.width === 'number' ? `${props.width}px` : props.width) : '',\r\n      '--border_width': props.borderWidth ? (typeof props.borderWidth === 'number' ? `${props.borderWidth}px` : props.borderWidth) : '1px'\r\n    }\r\n  });\r\n\r\n  return { inputClass, inputStyles };\r\n};\r\n\r\n","// import '@/motion/styles/index.scss';\r\nimport MButton from './MButton'\r\nimport MSpace from './MSpace'\r\nimport MDivider from './MDivider'\r\nimport { MLayout, MHeader, MSide, MFooter,MMain } from './MLayout';\r\nimport MAnchor from './MAnchor'\r\nimport MConfigProvider from './MConfigProvider'\r\nimport MBreadcrumb from './MBreadcrumb'\r\nimport MBreadcrumbItem from './MBreadcrumbItem'\r\nimport MDropdown from './MDropdown'\r\nimport MButtonGroup from './MButtonGroup'\r\nimport MMenuItem from './MMenuItem'\r\nimport MDialog,{Dialog} from './MDialog'\r\nimport MMask from './MMask'\r\nimport {MInput} from './MInput'\r\n\r\nconst components = [\r\n  MButton,\r\n  MSpace,\r\n  MDivider,\r\n  MLayout,\r\n  MHeader,\r\n  MSide,\r\n  MFooter,\r\n  MMain,\r\n  MAnchor,\r\n  MConfigProvider,\r\n  MBreadcrumb,\r\n  MBreadcrumbItem,\r\n  MDropdown,\r\n  MButtonGroup,\r\n  MMenuItem,\r\n  MDialog,\r\n  MMask,\r\n  MInput\r\n].map(item => {\r\n  item.install = function (app) {\r\n    app.component(item.name, item)\r\n  }\r\n  return item\r\n})\r\n\r\nexport default {\r\n  install(app) {\r\n    components.forEach(component => {\r\n      app.component(component.name, component)\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  MButton,\r\n  MSpace,\r\n  MDivider,\r\n  MLayout,\r\n  MHeader,\r\n  MSide,\r\n  MFooter,\r\n  MMain,\r\n  MAnchor,\r\n  MConfigProvider,\r\n  MBreadcrumb,\r\n  MBreadcrumbItem,\r\n  MDropdown,\r\n  MButtonGroup,\r\n  MMenuItem,\r\n  MDialog,\r\n  Dialog,\r\n  MMask,\r\n  MInput\r\n}"],"names":["downRes","el","binding","value","addEventListener","event","parent","querySelector","getAttribute","isUp","isAnimationEnd","ripple","document","createElement","destroyedRipple","remove","window","removeEventListener","onMouseup","rect","getBoundingClientRect","size","Math","max","width","height","x","clientX","left","y","abs","style","top","classList","add","appendChild","setTimeout","providerKey","Symbol","handleClickResColorMap","Map","defineComponent","name","props","type","String","default","shape","plain","Boolean","disabled","loading","block","light","clickResColor","borderStyle","clickRes","emits","directives","setup","slots","emit","btnClass","btnStyle","contentShow","a","injectData","inject","clickColor","computed","get","push","join","arr","includes","handleClick","e","preventDefault","stopPropagation","onFocus","onBlur","_withDirectives","_createVNode","class","onClick","marginRight","viewBox","d","fill","_resolveDirective","layout","validator","val","layoutClass","defaultItems","map","item","index","key","v","color","dividerClass","MLayout","MHeader","MSide","MFooter","MMain","getTarget","Function","_","locale","provide","_Fragment","separator","activeColor","length","title","getNodeRect","node","getAnimateEnd","Promise","resolve","all","getAnimations","subtree","animation","finished","then","catch","animate","keyframes","options","delay","async","reject","forEach","cancel","time","duration","Number","animateOption","hideTime","showTime","bgShow","transform","offset","cShow","opacity","bgHide","getRect","placement","cRect","st_px","documentElement","scrollTop","windowWidth","innerWidth","windowHeight","innerHeight","canShowOnTop","canShowOnBottom","canShowOnLeft","canShowOnRight","trigger","destroyOnHide","open","toBody","triggerRef","ref","dropdownContentRef","bodyRef","show","state","reactive","waitChange","renderToDom","hideState","timer","isShow","renderRect","minWidth","scrollListenHandle","showDropdown","clearTimeout","requestAnimationFrame","handleClickHandle","hideDropdown","triggerMouseEnter","cHide","clickHideListenHandle","target","child","contains","onContentMouseEnter","bindEvent","unBindEvent","watch","onBeforeMount","insetBody","setAttribute","onMounted","children","onUnmounted","Teleport","to","content","_vShow","label","onEnter","onLeave","ctx","vNodes","Transition","appear","done","css","s","_isVNode","Object","prototype","toString","call","dialogAnimationShow","mask","wrapper","dialogAnimationHide","updateBodyScroll","attr","querySelectorAll","body","dataset","overflow","components","MButton","visible","className","cancelBtnText","okBtnText","okBtnProps","cancelBtnProps","showClose","backgroundColor","maskBackgroundColor","fullscreen","escHide","maskHide","HTMLElement","_onClose","wrapperRef","maskRef","dialogRef","contentStyle","wrapperStyle","bodyStyle","padding","margin","maxWidth","onVisibleHide","onHandleEscHideEvent","code","keyCode","allDialogs","transformOrigin","setProperty","defaultSlot","footerSlot","footer","headerSlot","header","bodySlot","MTransition","version","xmlns","_mergeProps","getDefaultOpt","obj","onConfirm","onCancel","createDialog","option","div","app","createApp","MDialog","unmount","mount","Dialog","freeze","assign","confirm","okBtnType","background","onCloseMask","modelValue","placeholder","prefix","suffix","prepend","append","clearable","readonly","borderWidth","autofocus","exposed","inputRef","isFocus","setIsFocus","inputValue","showClear","n","o","inputClass","inputStyles","focusState","classNameArr","useInputClass","onInputChange","expose","focus","blur","prefixSlot","suffixSlot","prependSlot","appendSlot","onInput","MSpace","MDivider","MAnchor","MConfigProvider","MBreadcrumb","MBreadcrumbItem","MDropdown","MButtonGroup","MMenuItem","MMask","MInput","install","component"],"mappings":"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"}